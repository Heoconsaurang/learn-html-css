;/*FB_PKG_DELIM*/

__d("CometMessengerSecureResharesTargets_nux.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessengerSecureResharesTargets_nux",selections:[{args:null,kind:"FragmentSpread",name:"useNuxOnce_nux"}],type:"DefaultNUX",abstractKey:null};e.exports=a}),null);
__d("CometMessengerSecureResharesTargets_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessengerSecureResharesTargets_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("useMAWRecentSecureThreads",["I64","LSMediaThreadPictureUrl","LSMessagingThreadTypeUtil","ReQL.bs","ReQLSubscription.bs","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(){var a=c("useReStore")();return d("ReQLSubscription.bs").useArray(h(function(){return d("ReQL.bs").map(d("ReQL.bs").take(d("ReQL.bs").filter(d("ReQL.bs").fromIndexDescending(a.table("threads").index("parentThreadKeyLastActivityTimestampMs")),function(a){return d("LSMessagingThreadTypeUtil").isSecure(a.threadType)}),20),function(a){var b=a.threadType;return{threadKey:d("I64").to_string(a.threadKey),threadName:a.threadName,threadPictureUrl:c("LSMediaThreadPictureUrl")(a),threadTargetType:d("LSMessagingThreadTypeUtil").isOneToOne(b)?"USER":d("LSMessagingThreadTypeUtil").isGroup(b)?"GROUP":void 0}})},[a]),"7803w7my")}g["default"]=a}),98);
__d("useMWLSGetThreadParticipantsByThreadID",["I64","LSMediaUrl.bs","MWPActor.react","ReQL.bs","ReQLSubscription.bs","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),f=d("I64").of_string(a);return d("ReQLSubscription.bs").useArray(h(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").leftJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:f,tl:0}),d("ReQL.bs").fromTableAscending(b.table("contacts"))),function(a){a=a[1];if(a!=null)return!d("I64").equal(a.id,e);else return!1}),function(a){a=a[1];if(a==null)return;var b=a.firstName,c=d("LSMediaUrl.bs").Contact.profilePictureUrl(a)==="";if(b!=null&&!c)return{firstName:b,name:a.name,profilePictureUrl:d("LSMediaUrl.bs").Contact.profilePictureUrl(a)}})},[b,a]),"jn03ecgc")}g["default"]=a}),98);
__d("MAWShareAttachmentDeferred",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("MAWShareAttachment").__setRef("MAWShareAttachmentDeferred");b=a;g["default"]=b}),98);
__d("CometResharesTypeaheadInputStrategy.react",["CometRoundedTextInput.react","MagnifyingGlassFilled16IconSvg.react","TetraIcon.react","cometTypeaheadInputWebkitStyles","react","useCometTypeaheadInputDirection","useCometTypeaheadInputStrategyOnChangeHandler"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var d=a.ariaProps;a.description;a.errorMessage;a.id;var e=a.inputEndContent,f=a.inputStartContent,g=a.inputExtraProps;g=g===void 0?{}:g;var i=g.hideIconOnFocus;i=i===void 0?!1:i;var j=g.hideIconAnimation;j=j===void 0?!1:j;var k=g.icon;k=k===void 0?h.jsx(c("TetraIcon.react"),{color:"secondary",icon:c("MagnifyingGlassFilled16IconSvg.react"),size:16}):k;var l=g.size;g=g.xstyle;g=g===void 0?{}:g;var m=a.isDisabled,n=a.onChange,o=a.label;o=o===void 0?"":o;var p=a.queryString,q=a.testid;q=a.autoFocus;a=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","description","errorMessage","id","inputEndContent","inputStartContent","inputExtraProps","isDisabled","onChange","label","queryString","testid","autoFocus"]);var r=c("useCometTypeaheadInputDirection")({queryString:p});n=c("useCometTypeaheadInputStrategyOnChangeHandler")({onChange:n});return h.jsxs("div",{className:"x6s0dn4 xh8yej3",children:[f,h.jsx(c("CometRoundedTextInput.react"),babelHelpers["extends"]({},d,a,{autoComplete:"off",autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD:q,"data-testid":void 0,dir:r,disabled:m,hideIconAnimation:j,hideIconOnFocus:i,icon:k,label:o,onChange:n,ref:b,size:l,spellCheck:!1,suppressHydrationWarning:!0,type:"search",value:p,xstyle:[g,c("cometTypeaheadInputWebkitStyles")["default"]]})),e]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("CometSecureResharesSearchTargetsArea.react",["fbt","BaseTypeahead.react","CometResharesTypeaheadInputStrategy.react","CometScrollableArea.react","CometTypeaheadLayoutInlineStrategy.react","CometTypeaheadViewEmptyState.react","MwbBreadthForwardingLimitReachedBannerShownFalcoEvent","TetraText.react","react","stylex","useMWChatSearchClearSearchResults"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useMemo,l=b.useState,m=5,n={input:{marginBottom:"xod5an3",marginEnd:"xktsk01",marginStart:"x1d52u69",marginTop:"x14vqqas",$$css:!0},view:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x16nrsnc",$$css:!0},withTopDivider:{borderTop:"x1n2xptk",marginTop:"xw7yly9",$$css:!0}};function o(a){return i.jsx(c("BaseTypeahead.react"),babelHelpers["extends"]({},a))}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.areWeCreatingASecureThread,d=a.canForward,e=a.dataSource,f=a.noSearchResultsText,g=a.placeholder,p=a.renderResults;a.setAreWeCreatingASecureThread;var q=a.suggestedTargets;a=a.withTopDivider;a=a===void 0?!0:a;var r=l(""),s=r[0];r=r[1];var t=l(!1),u=t[0];t=t[1];var v=c("useMWChatSearchClearSearchResults")();j(function(){v()},[v,b]);b=k(function(){return function(a){var b=a.entries;a=a.queryString;a=((a=a==null?void 0:a.length)!=null?a:0)>0;if(!a)return i.jsx(c("CometScrollableArea.react"),{horizontal:!1,xstyle:n.view,children:q});return b.length===0?i.jsx(c("CometTypeaheadViewEmptyState.react"),{children:f}):i.jsx(c("CometScrollableArea.react"),{horizontal:!1,xstyle:n.view,children:p({entries:b})})}},[q,p,f]);if(!d){u||(c("MwbBreadthForwardingLimitReachedBannerShownFalcoEvent").log(function(){return{limit:m.toString()}}),t(!0));return i.jsxs("div",{className:c("stylex")(a&&n.withTopDivider),"data-testid":void 0,children:[i.jsx("div",{className:"x5hsz1j x10e4vud x1v7wizp x190cc1c xq82lqc xlhe6ec x1lq5wgf xgqcy7u x30kzoy x9jhf4c x10w6t97 x1d52u69 x1xmf6yo x1swvt13 xyamay9 x10l6tqk xloyg6u x1vjfegm","data-testid":void 0,children:i.jsxs(c("TetraText.react"),{color:"primary",type:"headline3",children:[h._("__JHASH__ziMwr5yUHFi__JHASH__")," "]})}),i.jsx(o,{dataSource:e,inputStrategyRenderer:c("CometResharesTypeaheadInputStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutInlineStrategy.react"),onChange:r,placeholder:g,queryString:s,shouldQueryStringFollowHighlightedEntry:!1,shouldQueryStringUpdateFromSelectedEntryOnClick:!1,viewStrategyRenderer:b,xstyles:{inputXStyle:n.input,viewXStyle_DO_NOT_USE:n.view}})]})}return i.jsx("div",{className:c("stylex")(a&&n.withTopDivider),"data-testid":void 0,children:i.jsx(o,{dataSource:e,inputStrategyRenderer:c("CometResharesTypeaheadInputStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutInlineStrategy.react"),onChange:r,placeholder:g,queryString:s,shouldQueryStringFollowHighlightedEntry:!1,shouldQueryStringUpdateFromSelectedEntryOnClick:!1,viewStrategyRenderer:b,xstyles:{inputXStyle:n.input,viewXStyle_DO_NOT_USE:n.view}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerSecureReshareTargetRow.react",["fbt","CometTextWithIcon.react","MDSLockSvgIcon.bs","TetraListCell.react","TetraText.react","filterNulls","getCometMessengerReshareAction","intlList","react","recoverableViolation","unrecoverableViolation","useMWLSGetThreadParticipantsByThreadID"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){switch(a){case"USER":return"USER";case"GROUP":return"GROUP";default:c("recoverableViolation")("Unknown threadTargetType for getDispatchAction messenger dispatch","messenger_web_product");break}return null}function k(a,b){var c=a.threadPictureUrl;a=a.threadName;if(b.length===0)return null;if(b.length===1||c!=null){var d=b[0];return{alt:(a=a)!=null?a:d.name,shape:"circle",size:40,source:{uri:(a=c)!=null?a:d.profilePictureUrl},type:"profile-photo"}}c=b.map(function(a){var b=a.name;a=a.profilePictureUrl;return{alt:b,source:{uri:a}}});a=c[0];d=c[1];return{primaryPhoto:a,secondaryPhoto:d,size:40,type:"messenger-facepile"}}function a(a){var b=a.getTargetAction,d=a.secureThread;a=a.testid;a=d.threadKey;var e=j(d.threadTargetType);if(a==null)throw c("unrecoverableViolation")("Could not derive enough thread info for this reshare target","comet_feed");var f=c("useMWLSGetThreadParticipantsByThreadID")(a),g=k(d,c("filterNulls")(f));if(g==null)return null;if(e==null)return c("recoverableViolation")("Could not derive an action button for this reshare target","comet_feed");a={targetID:a.toString(),targetType:e};e=c("getCometMessengerReshareAction")({targetAction:b(a)});if(e==null)return c("recoverableViolation")("Could not derive an action button for this reshare target","comet_feed");a=f.length===1?(b=f[0])==null?void 0:b.name:c("intlList")(f.map(function(a){return a==null?void 0:a.firstName}));f=(b=d.threadName)!=null?b:a;return f==null?c("recoverableViolation")("Could not derive a name for this thread","comet_feed"):i.jsx(c("TetraListCell.react"),{addOnPrimary:g,addOnSecondary:e,headline:f,level:3,meta:i.jsx(c("TetraText.react"),{numberOfLines:1,type:"meta4",children:i.jsx(c("CometTextWithIcon.react"),{iconBefore:i.jsx(c("MDSLockSvgIcon.bs"),{color:"black",size:12}),children:h._("__JHASH__6zrqKhEukcl__JHASH__")})}),testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerSecureResharesSuggestionsSection.react",["CometMessengerSecureReshareTargetRow.react","CometReshareDialogTargetSection.react","react","recoverableViolation","useMAWRecentSecureThreads"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.getTargetAction;a=c("useMAWRecentSecureThreads")();a=a.map(function(a){if(a==null||a.threadKey==null){c("recoverableViolation")("Can't render a Messenger reshare target without an id","comet_feed");return null}return h.jsx(c("CometMessengerSecureReshareTargetRow.react"),{getTargetAction:b,secureThread:a,testid:void 0},a.threadKey)});return h.jsx(c("CometReshareDialogTargetSection.react"),{sectionTitle:"Recent Secure",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerSecureResharesTargets.react",["fbt","CometMessengerResharesTypeaheadViewLightspeedListStrategy.react","CometMessengerSecureResharesSuggestionsSection.react","CometMessengerSecureResharesTargets_nux.graphql","CometMessengerSecureResharesTargets_viewer.graphql","CometRelay","CometSecureResharesSearchTargetsArea.react","MWChatSearchIssueLightspeedQuery.bs","MWChatSearchTypeaheadLightspeedDataSource","MWLSSearchIssueSearchQuerySupportedTypes.bs","MWLSThreadDisplayContext","RelayHooks","gkx","react","unrecoverableViolation","useNuxOnce"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=d("react"),l=d("react").useMemo;function a(a){var e,f=a.canForward;a.disableSecureSearch;a.dropSecureThreadToggle;var g=a.getTargetAction,m=a.viewer,n=a.withTopDivider;a=a.xacDisclosureNux;var o=d("RelayHooks").useRelayEnvironment();m=d("CometRelay").useFragment(i!==void 0?i:i=b("CometMessengerSecureResharesTargets_viewer.graphql"),m);a=d("CometRelay").useFragment(j!==void 0?j:j=b("CometMessengerSecureResharesTargets_nux.graphql"),a);e=m==null?void 0:(e=m.actor)==null?void 0:e.id;if(m==null||e==null)throw c("unrecoverableViolation")("Need a viewer id and post id in order to share a stor","comet_feed");var p=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();m=l(function(){return new(c("MWChatSearchTypeaheadLightspeedDataSource"))({excludedIDs:[],excludeNonSecureThreadSearch:!0,includeGroupSearch:p!=="ChatTab"&&c("gkx")("1902857"),includeRecommendations:!1,lightspeedSupportedTypes:d("MWLSSearchIssueSearchQuerySupportedTypes.bs").allSupportedTypes,limit:20,relayEnvironment:o,source:d("MWChatSearchIssueLightspeedQuery.bs").Surfaces.universal})},[o,p]);e=c("useNuxOnce")(a);var q=e[0],r=e[1];a=l(function(){return function(a){a=a.entries;return k.jsx(c("CometMessengerResharesTypeaheadViewLightspeedListStrategy.react"),{entries:a,getTargetAction:g,isXacNuxVisible:c("gkx")("1839788")&&q,logXacNuxViewOnce:r})}},[g,q,r]);return k.jsx(c("CometSecureResharesSearchTargetsArea.react"),{areWeCreatingASecureThread:!0,canForward:f,dataSource:m,noSearchResultsText:h._("__JHASH__HQzX7N2r80x__JHASH__"),placeholder:h._("__JHASH__sm0167afdKE__JHASH__"),renderResults:a,suggestedTargets:k.jsx(c("CometMessengerSecureResharesSuggestionsSection.react"),{getTargetAction:g}),withTopDivider:n})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("PaymentsCometTransactionHubHelpRootQuery$Parameters",["PaymentsCometTransactionHubHelpRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("PaymentsCometTransactionHubHelpRootQuery_facebookRelayOperation"),metadata:{},name:"PaymentsCometTransactionHubHelpRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMessengerAIOResharesTargets_nux.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessengerAIOResharesTargets_nux",selections:[{args:null,kind:"FragmentSpread",name:"useNuxOnce_nux"}],type:"DefaultNUX",abstractKey:null};e.exports=a}),null);
__d("CometMessengerAIOResharesTargets_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessengerAIOResharesTargets_viewer",selections:[{args:null,kind:"FragmentSpread",name:"CometMessengerReshareSuggestions_viewer"},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("TransactionProductFiltersFieldsName",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MESSENGER:"MESSENGER",GAMES:"GAMES",PAID_ONLINE_EVENTS:"PAID_ONLINE_EVENTS",PREMIUM_VIDEOS:"PREMIUM_VIDEOS",SUBSCRIPTIONS:"SUBSCRIPTIONS",BULLETIN:"BULLETIN",SHOPPING:"SHOPPING",DONATIONS:"DONATIONS",STARS:"STARS",OTHER:"OTHERS"});c=a;f["default"]=c}),66);
__d("TransactionProductFiltersFieldsUtils.facebook",["$InternalEnumUtils","TransactionProductFiltersFieldsName"],(function(a,b,c,d,e,f,g){a=d("$InternalEnumUtils").createToJSEnum(c("TransactionProductFiltersFieldsName"));b=d("$InternalEnumUtils").createFromJSEnum(c("TransactionProductFiltersFieldsName"));g.toJSEnum=a;g.fromJSEnum=b}),98);
__d("PaymentsCometTransactionHubHelpRoot.entrypoint",["JSResourceForInteraction","PaymentsCometTransactionHubHelpRootQuery$Parameters","TransactionProductFiltersFieldsName","TransactionProductFiltersFieldsUtils.facebook","buildPaymentsCometTransactionHubRoute.entrypoint"],(function(a,b,c,d,e,f,g){"use strict";a=c("buildPaymentsCometTransactionHubRoute.entrypoint")(c("JSResourceForInteraction")("PaymentsCometTransactionHubHelpRoot.react").__setRef("PaymentsCometTransactionHubHelpRoot.entrypoint"),function(a){a=(a=a.routeProps.paymentProducts)==null?void 0:a.map(function(a){return c("TransactionProductFiltersFieldsName").cast(a)}).filter(Boolean);return{queries:{paymentsCometTransactionHubHelpRootQueryReference:{parameters:b("PaymentsCometTransactionHubHelpRootQuery$Parameters"),variables:{payment_multiselect_products:a==null?void 0:a.map(function(a){return d("TransactionProductFiltersFieldsUtils.facebook").fromJSEnum(a)}).filter(Boolean)}}}}});g["default"]=a}),98);
__d("CometMessengerAIOResharesSearchTargetsArea.react",["fbt","BaseTypeahead.react","CometResharesTypeaheadInputStrategy.react","CometScrollableArea.react","CometTypeaheadLayoutInlineStrategy.react","CometTypeaheadViewEmptyState.react","MAWGating","MAWSecureThreadToggle.react","MwbBreadthForwardingLimitReachedBannerShownFalcoEvent","TetraText.react","qex","react","stylex","useMWChatSearchClearSearchResults"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useMemo,l=b.useState,m=d("MAWGating").isArmadillo()&&((e=c("qex")._("272"))!=null?e:!1),n=5,o={input:{marginBottom:"xod5an3",marginEnd:"xktsk01",marginStart:"x1d52u69",marginTop:"x14vqqas",$$css:!0},secureToggle:{marginTop:"x14vqqas",$$css:!0},view:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x16nrsnc",$$css:!0},withTopDivider:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",marginTop:"xw7yly9",$$css:!0}};function p(a){return i.jsx(c("BaseTypeahead.react"),babelHelpers["extends"]({},a))}p.displayName=p.name+" [from "+f.id+"]";function q(a){return i.jsx(c("BaseTypeahead.react"),babelHelpers["extends"]({},a))}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.areWeSendingToASecureThread,d=a.canForward,e=a.dataSource,f=a.dropSecureThreadToggle,g=a.noSearchResultsText,r=a.placeholder,s=a.renderResults,t=a.setAreWeSendingToASecureThread,u=a.suggestedTargets;a=a.withTopDivider;a=a===void 0?!0:a;var v=l(""),w=v[0];v=v[1];var x=l(!1),y=x[0];x=x[1];var z=c("useMWChatSearchClearSearchResults")();j(function(){z()},[z,b]);var A=k(function(){return function(a){var b=a.entries;a=a.queryString;a=((a=a==null?void 0:a.length)!=null?a:0)>0;if(!a)return i.jsx(c("CometScrollableArea.react"),{horizontal:!1,xstyle:o.view,children:u});return b.length===0?i.jsx(c("CometTypeaheadViewEmptyState.react"),{children:g}):i.jsx(c("CometScrollableArea.react"),{horizontal:!1,xstyle:o.view,children:s({entries:b})})}},[u,s,g]);f=f!==!0&&m!==!0&&b!==null&&t?i.jsx("div",{className:"x14vqqas",children:i.jsx(c("MAWSecureThreadToggle.react"),{areWeCreatingASecureThread:b===!0,setAreWeCreatingASecureThread:t,stretch:!0})}):null;t=k(function(){return b===!0?p:q},[b]);if(!d){y||(c("MwbBreadthForwardingLimitReachedBannerShownFalcoEvent").log(function(){return{limit:n.toString()}}),x(!0));return i.jsxs("div",{className:c("stylex")(a&&o.withTopDivider),"data-testid":void 0,children:[i.jsx("div",{className:"x5hsz1j x10e4vud x1v7wizp x190cc1c xq82lqc xlhe6ec x1lq5wgf xgqcy7u x30kzoy x9jhf4c x10w6t97 x1d52u69 x1xmf6yo x1swvt13 xyamay9 x10l6tqk xloyg6u x1vjfegm","data-testid":void 0,children:i.jsxs(c("TetraText.react"),{color:"primary",type:"headline3",children:[h._("__JHASH__ziMwr5yUHFi__JHASH__")," "]})}),i.jsx(t,{dataSource:e,inputEndContent:f,inputStrategyRenderer:c("CometResharesTypeaheadInputStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutInlineStrategy.react"),onChange:v,placeholder:r,queryString:w,shouldQueryStringFollowHighlightedEntry:!1,shouldQueryStringUpdateFromSelectedEntryOnClick:!1,viewStrategyRenderer:A,xstyles:{inputXStyle:o.input,viewXStyle_DO_NOT_USE:o.view}})]})}return i.jsx("div",{className:c("stylex")(a&&o.withTopDivider),"data-testid":void 0,children:i.jsx(t,{dataSource:e,inputEndContent:f,inputStrategyRenderer:c("CometResharesTypeaheadInputStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutInlineStrategy.react"),onChange:v,placeholder:r,queryString:w,shouldQueryStringFollowHighlightedEntry:!1,shouldQueryStringUpdateFromSelectedEntryOnClick:!1,viewStrategyRenderer:A,xstyles:{inputXStyle:o.input,viewXStyle_DO_NOT_USE:o.view}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerAIOResharesTargets.react",["fbt","CometMessengerAIOResharesSearchTargetsArea.react","CometMessengerAIOResharesTargets_nux.graphql","CometMessengerAIOResharesTargets_viewer.graphql","CometMessengerReshareSuggestions.react","CometMessengerResharesSearchLightspeedDataSource","CometMessengerResharesTypeaheadViewLightspeedListStrategy.react","CometMessengerSecureResharesSuggestionsSection.react","CometRelay","MAWGating","MWPSearchSystem","gkx","qex","react","setTimeoutCometSpeculative","unrecoverableViolation","useNuxOnce","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=d("react");e=d("react");var l=e.useCallback,m=e.useEffect,n=e.useMemo,o=e.useState,p=c("gkx")("4164"),q=p&&((e=c("qex")._("73"))!=null?e:!1);function a(a){var e,f=a.canForward,g=a.dropSecureThreadToggle,r=a.getTargetAction,s=a.messageID,t=a.viewer,u=a.withTopDivider;a=a.xacDisclosureNux;var v=c("useReStore")(),w=l(function(){return d("MWPSearchSystem").makeAll(v)},[v]),x=o(!1),y=x[0];x=x[1];m(function(){if(q!==!0)return;if(p){var a;a=(a=c("qex")._("2154"))!=null?a:1e4;c("setTimeoutCometSpeculative")(w,a)}});t=d("CometRelay").useFragment(i!==void 0?i:i=b("CometMessengerAIOResharesTargets_viewer.graphql"),t);a=d("CometRelay").useFragment(j!==void 0?j:j=b("CometMessengerAIOResharesTargets_nux.graphql"),a);e=t==null?void 0:(e=t.account_user)==null?void 0:e.id;if(t==null||e==null)throw c("unrecoverableViolation")("Need a viewer id and post id in order to share a stor","comet_feed");e=d("MAWGating").isTlcSearchEnabled();e=d("CometMessengerResharesSearchLightspeedDataSource").useCometMessengerResharesSearchDataSource(30,10,(y||e)&&!g,!y||e);a=c("useNuxOnce")(a);var z=a[0],A=a[1];a=n(function(){return function(a){a=a.entries;return k.jsx(c("CometMessengerResharesTypeaheadViewLightspeedListStrategy.react"),{entries:a,getTargetAction:r,isXacNuxVisible:c("gkx")("1839788")&&z,logXacNuxViewOnce:A})}},[r,z,A]);return k.jsx(c("CometMessengerAIOResharesSearchTargetsArea.react"),{areWeSendingToASecureThread:y,canForward:f,dataSource:e,dropSecureThreadToggle:g,noSearchResultsText:h._("__JHASH__HQzX7N2r80x__JHASH__"),placeholder:h._("__JHASH__sm0167afdKE__JHASH__"),renderResults:a,setAreWeSendingToASecureThread:x,suggestedTargets:y?k.jsx(c("CometMessengerSecureResharesSuggestionsSection.react"),{getTargetAction:r}):k.jsx(c("CometMessengerReshareSuggestions.react"),{disableSecureThreads:g,getTargetAction:r,messageID:s,viewer:t}),withTopDivider:u})}a.displayName=a.name+" [from "+f.id+"]";e=k.memo(a);g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("MWChatForwardDialogQuery.graphql",["MWChatForwardDialogQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"suppress_xac_groups"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d=[c],e={kind:"Variable",name:"suppress_xac_groups",variableName:"suppress_xac_groups"},f=[{kind:"Literal",name:"first",value:5},e],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],j={alias:null,args:[{kind:"Literal",name:"height",value:60},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:i,storageKey:null},k=[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[g,h,c,j],storageKey:null},c],storageKey:null}],l={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatForwardDialogQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometMessengerResharesTargets_viewer"},{args:null,kind:"FragmentSpread",name:"CometMessengerSecureResharesTargets_viewer"},{args:null,kind:"FragmentSpread",name:"CometMessengerAIOResharesTargets_viewer"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:d,storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatForwardDialogQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"broadcast_list_type",value:"WEB"},e],concreteType:"SuggestedRecipientsConnection",kind:"LinkedField",name:"messenger_suggested_recipients",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerBroadcastSection",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"section_type",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:f,concreteType:"SuggestedRecipientsAttachmentsConnection",kind:"LinkedField",name:"attachments_pageable",plural:!1,selections:[{alias:null,args:null,concreteType:"SuggestedRecipientsAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,c,{kind:"TypeDiscriminator",abstractKey:"__isMessengerSearchable"},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:3}],concreteType:"MessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"other_participants",plural:!1,selections:k,storageKey:"other_participants(first:3)"},{alias:null,args:null,kind:"ScalarField",name:"is_cm_thread",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[h,c],storageKey:null},l],type:"MessengerViewerGroupThread",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"MessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"other_participants",plural:!1,selections:k,storageKey:"other_participants(first:1)"},l],type:"MessengerViewer1To1Thread",abstractKey:null},{kind:"InlineFragment",selections:[h,j],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:f,filters:["suppress_xac_groups"],handle:"connection",key:"CometMessengerReshareDialogSuggestionsSection_section_attachments_pageable",kind:"LinkedHandle",name:"attachments_pageable"},c,{alias:null,args:null,kind:"ScalarField",name:"__token",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_create_group",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_limited_account",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[g,c],storageKey:null}],storageKey:null}]},params:{id:b("MWChatForwardDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatForwardDialogQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useMWTeardownOnMessageDelete",["MWChatDeleteMessageEventEmitter","MWChatMessageId","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=a.messageID,c=a.onClose;return h(function(){var a=d("MWChatDeleteMessageEventEmitter").subscribe(function(a){var e=d("MWChatMessageId").getMessageId(b);e===a&&c()});return function(){a()}},[b,c])}g["default"]=a}),98);
__d("MWChatForwardDialog.react",["fbt","Actor","CometDialog.react","CometDialogHeader.react","CometMessengerResharesTargets.react","CometRelay","MWChatForwardDialogQuery.graphql","MWChatThreadId","asyncToGeneratorRuntime","cometPushToast","cr:11366","cr:1277","react","recoverableViolation","unrecoverableViolation","useMWTeardownOnMessageDelete","useResharesDialogState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useCallback,l=e.useMemo;function m(a){return a.targetID}function a(a){var e,f=a.props;a=a.queries;var g=f.dropToggle,n=f.forwardDialogType,o=l(function(){if(n==="open_")return c("CometMessengerResharesTargets.react");else if(n==="secure"&&b("cr:11366"))return b("cr:11366");else if(n==="cross_transport"&&b("cr:1277"))return b("cr:1277");else{c("recoverableViolation")("Secure forward not allowed","messenger_web_product");return c("CometMessengerResharesTargets.react")}},[n]);a=d("CometRelay").usePreloadedQuery(i!==void 0?i:i=b("MWChatForwardDialogQuery.graphql"),a.forwardQueryReference);a=a==null?void 0:a.viewer;e=a==null?void 0:(e=a.actor)==null?void 0:e.id;var p=d("Actor").useActor();p=p[0];if(a==null||e==null||p==null)throw c("unrecoverableViolation")("Need a viewer id, actor in order to forward a message","messenger_web_product");if(p!==e)throw c("unrecoverableViolation")("Forward in Messenger currently only supports forwarding as the account user","messenger_web_product");c("useMWTeardownOnMessageDelete")({messageID:f.messageID,onClose:f.onClose});p=k(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){f.onSend(d("MWChatThreadId").fromJs(a))});return function(b){return a.apply(this,arguments)}}(),[f.onSend]);e=k(function(){d("cometPushToast").cometPushErrorToast({message:h._("__JHASH__-tYE2PmgwwZ__JHASH__")})},[]);e=c("useResharesDialogState")({getTargetKey:m,handleError:e,sharePost:p,showForwardLimit:!0});p=e.getTargetAction;var q=l(function(){return j.jsx(c("CometDialogHeader.react"),{onClose:f.onClose,text:h._("__JHASH__iux_v9_IGpS__JHASH__")})},[f.onClose]);return j.jsx(c("CometDialog.react"),{footer:null,header:q,onClose:f.onClose,size:"small",children:j.jsx(o,{canForward:e.canForward,dropSecureThreadToggle:g,getTargetAction:p,messageID:f.messageID,viewer:a,withTopDivider:!1})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);